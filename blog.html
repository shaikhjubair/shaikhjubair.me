<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4WTMQ2G2ZF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WTMQ2G2ZF');
    </script>

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://shaikhjubair.me/">
    <meta property="og:title" content="Shaikh Jubair | AI Engineer & Data Scientist">
    <meta property="og:description" content="Portfolio of Shaikh Jubair - AI Engineer specializing in Machine Learning, Python, and Data Science.">
    <meta property="og:image" content="https://shaikhjubair.me/profile.jpg"> <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://shaikhjubair.me/">
    <meta property="twitter:title" content="Shaikh Jubair | AI Engineer & Data Scientist">
    <meta property="twitter:description" content="Portfolio of Shaikh Jubair - AI Engineer specializing in Machine Learning, Python, and Data Science.">
    <meta property="twitter:image" content="https://shaikhjubair.me/profile.jpg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jubair's Blog | Powered by GitHub</title>
    
    <link href="style.css?v=12" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

    <header class="header">
        <a href="index.html" class="logo">Shaikh <span class="highlight">Jubair</span></a>
        <nav class="navbar">
            <a href="index.html">Home</a>
            <a href="index.html#portfolio">Projects</a>
            <a href="blog.html" class="active">Blog</a>
        </nav>
    </header>

    <section class="blog-hero">
        <div class="hero-content">
            <span class="badge-glow">Dev Logs</span>
            <h1>The <span class="text-gradient">Open Journal</span></h1>
            <p>Thoughts written directly on GitHub, published here.</p>
        </div>
    </section>

    <section class="blog-layout">
        <div class="modern-grid" id="blog-grid">
            <p style="color:white; text-align:center; font-size:1.5rem;">Connecting to GitHub...</p>
        </div>
    </section>

    <div class="blog-modal" id="blog-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeBlog()">&times;</span>
            <div id="modal-cover" class="modal-cover-img"></div>
            <div class="modal-text">
                <span id="modal-date" class="date-badge"></span>
                <h2 id="modal-title"></h2>
                <div id="modal-body" class="markdown-body"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-text"><p>Copyright &copy; 2026 | Shaikh Jubair</p></div>
    </footer>

    <script>
        // ============================================
        // ⚠️ আপনার ইউজারনেম এবং রিপোজিটরি নাম দিন
        // ============================================
        const username = "shaikhjubair";
        const repo = "shaikhjubair.github.io"; 
        
        const apiUrl = `https://api.github.com/repos/${username}/${repo}/issues?state=open&labels=published`;
        const blogContainer = document.getElementById('blog-grid');
        let allPosts = []; // সব পোস্ট এখানে জমা থাকবে

        // ১. গিটহাব থেকে পোস্ট নিয়ে আসা
        async function fetchPosts() {
            try {
                const response = await fetch(apiUrl);
                const data = await response.json();
                allPosts = data;
                
                blogContainer.innerHTML = ""; // লোডিং টেক্সট মুছা

                if(data.length === 0) {
                    blogContainer.innerHTML = "<p style='color:white; text-align:center;'>No published posts found.</p>";
                    return;
                }

                data.forEach((post, index) => {
                    // লেখার ভেতর থেকে প্রথম ছবিটা খুঁজে বের করা (থাম্বনেইল হিসেবে ব্যবহারের জন্য)
                    let firstImage = "https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=1000"; // ডিফল্ট ছবি
                    const imgMatch = post.body.match(/!\[.*?\]\((.*?)\)/);
                    if(imgMatch) {
                        firstImage = imgMatch[1];
                    }

                    // কার্ড বানানো
                    const date = new Date(post.created_at).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
                    
                    const html = `
                        <article class="glass-card" onclick="openPost(${index})">
                            <div class="card-image">
                                <img src="${firstImage}" alt="${post.title}">
                                <span class="card-badge">Blog</span>
                            </div>
                            <div class="card-details">
                                <span style="color:var(--main-color); font-size:0.9rem;">${date}</span>
                                <h3>${post.title}</h3>
                                <a href="javascript:void(0)" class="link-hover">Read Full Story <i class='bx bx-right-arrow-alt'></i></a>
                            </div>
                        </article>
                    `;
                    blogContainer.innerHTML += html;
                });

            } catch (error) {
                console.log(error);
                blogContainer.innerHTML = "<p style='color:red; text-align:center;'>Error loading posts.</p>";
            }
        }

        // ২. পোস্ট ওপেন করা (Modal)
        const modal = document.getElementById('blog-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalDate = document.getElementById('modal-date');
        const modalBody = document.getElementById('modal-body');
        const modalCover = document.getElementById('modal-cover');

        function openPost(index) {
            const post = allPosts[index];
            const date = new Date(post.created_at).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });

            modalTitle.innerText = post.title;
            modalDate.innerText = date;
            
            // Markdown থেকে HTML এ কনভার্ট করা (marked.js দিয়ে)
            modalBody.innerHTML = marked.parse(post.body);
            
            // পোস্টের ভেতরের সব ইমেজ রেসপন্সিভ করা
            const images = modalBody.getElementsByTagName('img');
            for(let img of images) {
                img.style.maxWidth = "100%";
                img.style.borderRadius = "10px";
            }

            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeBlog() {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // লোড শুরু
        fetchPosts();
    </script>
    
    <style>
        /* Markdown Styles for inside the post */
        .markdown-body { color: #ccc; line-height: 1.8; font-size: 1.6rem; }
        .markdown-body h1, .markdown-body h2, .markdown-body h3 { color: #fff; margin-top: 2rem; margin-bottom: 1rem; }
        .markdown-body p { margin-bottom: 1.5rem; }
        .markdown-body ul { padding-left: 2rem; margin-bottom: 1.5rem; }
        .markdown-body li { margin-bottom: 0.5rem; }
        .markdown-body strong { color: var(--main-color); }
        .markdown-body code { background: #222; padding: 2px 5px; border-radius: 4px; font-family: monospace; color: var(--accent-color); }
        .markdown-body pre { background: #111; padding: 15px; border-radius: 10px; overflow-x: auto; margin-bottom: 20px; }
    </style>

</body>
</html>
